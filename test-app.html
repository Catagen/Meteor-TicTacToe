<head>
  <title>Tic Tac Toe</title>
</head>

<body>
  <div class="{{#if currentUser}} {{else}} center {{/if}}">
    {{> loginButtons}}
  </div>
  {{#if currentUser}}
    {{#if roomJoined}}
      {{> room}}
    {{else}}
      {{> joinRoom}}
    {{/if}}
  {{/if}}
</body>

<template name="joinRoom">
  <form name="roomForm" class="center">
    <input class="tin" type="text" placeholder="Enter the Room ID" autofocus>
    <input class="btn" type="submit" id="action" value="SUBMIT">
  </form>
</template>

<template name="room">
  <h1>Room: {{roomNumber}}</h1>

  {{#each players}}
    <p>Player {{playerNumber}}: {{username}}</p>
  {{/each}}

  {{#if gameIsOver}}
    {{> endGame}}
  {{else}}
    {{> currentPlayer}}
  {{/if}}

  {{> playField}}

  <form>
    <input class="btn" type="submit" id="leave" value="Leave room">
  </form>
</template>

<template name="playField">
  <div id="playfield" class="noselect">
    <div class="box" id="1"><p> {{sign  '1'}} </p></div>
    <div class="box" id="2"><p> {{sign  '2'}} </p></div>
    <div class="box" id="3"><p> {{sign  '3'}} </p></div>
    <div class="box" id="4"><p> {{sign  '4'}} </p></div>
    <div class="box" id="5"><p> {{sign  '5'}} </p></div>
    <div class="box" id="6"><p> {{sign  '6'}} </p></div>
    <div class="box" id="7"><p> {{sign  '7'}} </p></div>
    <div class="box" id="8"><p> {{sign  '8'}} </p></div>
    <div class="box" id="9"><p> {{sign  '9'}} </p></div>
  </div>
</template>

<template name="currentPlayer">
  <p class="text-top">{{getCurrentPlayer}}</p>
</template>

<template name="endGame">
  <p class="text-top">{{getWinnerName}}</p>
  <div class="endgame">
    <form>
      <input class="btn" type="submit" id="newGame" value="Start New Game">
    </form>
  </div>
</template>
